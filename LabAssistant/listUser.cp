#include "lab assistant.h"#include <stdio.h>#include <string.h>#include "listUser.h"#include "listBox.h"#include "otherUser.h"#include "userRecord.h"#include "editListBox.h"#include "editUser.h"#include "addUser.h"void EditUserInfo(void){	userNode		*userRecordsList;	dialogRecordHdl		dialogRecord;		userRecordsList = CreateUserList();		ReadUserInfo(userRecordsList);			dialogRecord = (dialogRecordHdl) NewHandle(sizeof(dialogRec));	HLock((Handle) dialogRecord);	(*dialogRecord)->theRecord = (long) userRecordsList;	(*dialogRecord)->theEvent = kEventUserList;	(*dialogRecord)->callBack = EditUserInfoCallBack;	HUnlock((Handle) dialogRecord);		EditListBoxSetup(dialogRecord);}void EditUserInfoCallBack(dialogRecordHdl dialogRecord){	short				theCell;	userNode		*userRecordsList, *userHead;	short				counter, itemHit;				HLock((Handle) dialogRecord);	theCell = (short) (*dialogRecord)->misc;	userHead = (userNode *) (*dialogRecord)->theRecord;	itemHit = (*dialogRecord)->itemHit;	HUnlock((Handle) dialogRecord);		userRecordsList = userHead->next;		for(counter = 0; counter != theCell; counter ++)		userRecordsList = userRecordsList->next;		switch(itemHit)	{		case 2:			AddUser();			DeleteUserList(userHead);			break;		case 3:			EditUser(userRecordsList, userHead);			break;		case 4:			DeleteUserRecord(userHead, userRecordsList);			WriteUserInfo(userHead);			DeleteUserList(userHead);			break;	}		DisposeHandle((Handle) dialogRecord);	}